<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞ ‡§∏‡§∞‡§≥ ‡§∏‡•á‡§µ‡§æ ‡§≠‡§∞‡§§‡•Ä - Job Portal V3.5</title>
  <style>
    *{box-sizing:border-box;font-family:Arial, sans-serif}
    body{background:#fffdf8;color:#222;margin:0;transition:background .2s;color-scheme:light}
    header{background:linear-gradient(90deg,#ff8a00,#ff3c00);color:#fff;padding:1rem;text-align:center}
    header h1{margin:0;font-size:1.6rem}
    nav{background:#fff3e0;padding:0.6rem;text-align:center;border-bottom:1px solid #ffe5cc}
    nav a{color:#e65100;margin:0 0.8rem;text-decoration:none;font-weight:600}
    main{max-width:1000px;margin:1.6rem auto;padding:0 1rem}
    h2{color:#e65100;border-left:5px solid #ff6d00;padding-left:10px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .search{flex:1;min-width:180px;padding:8px;border:2px solid #ffd1b3;border-radius:6px}
    .card{background:#fff;padding:12px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.06);margin-bottom:10px}
    .card h3{margin:0 0 6px;color:#bf360c}
    .btn{display:inline-block;padding:8px 10px;background:#ff6d00;color:#fff;border-radius:6px;text-decoration:none;font-weight:700}
    .small{font-size:0.85rem;color:#666}
    footer{text-align:center;background:#ff6d00;color:#fff;padding:0.9rem;margin-top:18px}
    .pdf-link{display:inline-block;margin-top:8px;padding:6px 10px;background:#ff7b00;color:#fff;border-radius:6px;text-decoration:none}
    .muted{color:#666;font-size:0.9rem}
    @media (max-width:600px){.controls{flex-direction:column}}
  </style>
</head>
<body>
  <header>
    <h1>üî• ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞ ‡§∏‡§∞‡§≥ ‡§∏‡•á‡§µ‡§æ ‡§≠‡§∞‡§§‡•Ä</h1>
    <div class="muted">Live Job Updates ¬∑ PDF Notes ¬∑ Admin Panel</div>
  </header>

  <nav>
    <a href="#jobs">Jobs</a>
    <a href="#pdfs">PDFs</a>
    <a href="admin.html" target="_blank">Admin Panel</a>
  </nav>

  <main>
    <section id="jobs">
      <h2>üì¢ ‡§®‡§µ‡•Ä‡§® ‡§≠‡§∞‡§§‡•Ä ‡§Ö‡§™‡§°‡•á‡§ü‡•ç‡§∏</h2>
      <div class="controls">
        <input id="search" class="search" placeholder="‡§≠‡§∞‡§§‡•Ä ‡§∂‡•ã‡§ß‡§æ (‡§â‡§¶‡§æ. MPSC, Police)" />
        <a class="btn" href="#pdfs">PDFs</a>
      </div>
      <div id="job-list">‡§≤‡•ã‡§° ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á...</div>
    </section>

    <section id="pdfs" style="margin-top:18px">
      <h2>üìö PDF Downloads</h2>
      <div id="pdf-list">‡§≤‡•ã‡§° ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á...</div>
      <div class="muted" style="margin-top:8px">‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§ø‡§Ø ‡§µ‡§æ‡§ö‡§ï‡§æ‡§Ç‡§®‡•ã, ‡§∏‡§ß‡•ç‡§Ø‡§æ ‡§¨‡•ã‡§ó‡§∏ ‡§®‡•ã‡§ï‡§∞‡•Ä ‡§ú‡§æ‡§π‡§ø‡§∞‡§æ‡§§‡•Ä‡§ö‡§æ ‡§∏‡•Å‡§≥‡§∏‡•Å‡§≥‡§æ‡§ü ‡§ö‡§æ‡§≤‡•Ç ‡§Ü‡§π‡•á. ‡§π‡•ã‡§Ø ‡§∏‡•Å‡§≥‡§∏‡•Å‡§≥‡§æ‡§ü‡§ö ‡§Æ‡•ç‡§π‡§£‡§æ‡§µ‡§Ç ‡§≤‡§æ‡§ó‡•á‡§≤, ‡§ï‡§æ‡§∞‡§£ ‡§ï‡§æ‡§π‡•Ä  ‡§µ‡•á‡§¨‡§∏‡§æ‡§à‡§ü‡§µ‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ú‡§®‡§§‡•á‡§ö‡•Ä ‡§¶‡§ø‡§∂‡§æ‡§≠‡•Ç‡§≤ ‡§π‡•ã‡§à‡§≤ ‡§Ö‡§∂‡•ç‡§Ø‡§æ ‡§®‡•ã‡§ï‡§∞‡•Ä ‡§µ‡§ø‡§∑‡§Ø‡§ï ‡§ú‡§æ‡§π‡§ø‡§∞‡§æ‡§§‡•Ä ‡§∏‡§∞‡•ç‡§∞‡§æ‡§∏ ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§ï‡•á‡§≤‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§§ ‡§Ü‡§π‡•á‡§§  ‡§§‡•ç‡§Ø‡§æ‡§Æ‡•Å‡§≥‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§ñ‡§æ‡§§‡•ç‡§∞‡•Ä ‡§ï‡§∞‡•Ç‡§®‡§ö ‡§Ö‡§∞‡•ç‡§ú ‡§ï‡§∞‡§æ‡§µ‡§æ. ‡§Æ‡§æ‡§ù‡•Ä ‡§®‡•ã‡§ï‡§∞‡•Ä ‡§µ‡§æ‡§ö‡§ï‡§æ‡§Ç‡§ö‡•Ä ‡§´‡§∏‡§µ‡§£‡•Ç‡§ï ‡§π‡•ã‡§ä ‡§®‡§Ø‡•á ‡§Ø‡§æ ‡§ï‡§∞‡§ø‡§§‡§æ ‡§Ü‡§Æ‡•ç‡§π‡•Ä ‡§®‡•ã‡§ï‡§∞‡•Ä‡§ö‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§π‡§ø‡§∞‡§æ‡§§‡•Ä‡§ö‡•Ä ‡§™‡•Ç‡§∞‡•ç‡§£‡§™‡§£‡•á ‡§∂‡§π‡§®‡§ø‡§∂‡§æ ‡§ï‡§∞‡•Ç‡§® ‡§ù‡§æ‡§≤‡•ç‡§Ø‡§æ ‡§®‡§Ç‡§§‡§∞‡§ö ‡§§‡•Ä ‡§ú‡§æ‡§π‡§ø‡§∞‡§æ‡§§ ‡§Ü‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü/‡•≤‡§™‡§µ‡§∞ ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§ï‡§∞‡•Ä‡§§ ‡§Ü‡§≤‡•ã ‡§Ü‡§π‡•ã‡§§ ‡§Ü‡§£‡§ø ‡§Ø‡§æ‡§™‡•Å‡§¢‡•á ‡§π‡•Ä ‡§ï‡§∞‡§£‡§æ‡§∞. ‡§Ø‡§æ‡§Æ‡•Å‡§≥‡•á ‡§è‡§ñ‡§æ‡§¶‡•Ä ‡§ú‡§æ‡§π‡§ø‡§∞‡§æ‡§§ ‡§â‡§∂‡§ø‡§∞‡§æ ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•ã‡§§‡•á. ‡§§‡•ç‡§Ø‡§æ‡§¨‡§¶‡•ç‡§¶‡§≤ ‡§Ü‡§Æ‡•ç‡§π‡•Ä ‡§¶‡§ø‡§≤‡§ó‡§ø‡§∞‡•Ä ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§ ‡§ï‡§∞‡•Ä‡§§ ‡§Ü‡§π‡•ã‡§§. ‡§è‡§ñ‡§æ‡§¶‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§π‡§ø‡§∞‡§æ‡§§‡•Ä‡§¨‡§¶‡•ç‡§¶‡§≤ ‡§∂‡§Ç‡§ï‡§æ ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ü‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‚Äò‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‚Äò ‡§Æ‡§ß‡•Ç‡§® ‡§ú‡§∞‡•Ç‡§∞ ‡§ï‡§≥‡§µ‡§æ. </div>
    </section>
  </main>

  <footer>¬© 2025 Maharashtra Saral Seva Bharti</footer>

  <script>
    // Utility: read JSON file from repo (fallback)
    async function fetchJSON(name){
      try{
        const r = await fetch(name + '?cache=' + Date.now());
        if(!r.ok) throw new Error('no');
        return await r.json();
      }catch(e){return []}
    }

    // Load jobs from localStorage first, else jobs.json
    async function loadJobs(){
      const local = JSON.parse(localStorage.getItem('ms_jobs') || 'null');
      const jobs = local || await fetchJSON('jobs.json');
      renderJobs(jobs);
    }

    function renderJobs(list){
      const container = document.getElementById('job-list');
      container.innerHTML='';
      if(!list || !list.length){container.innerHTML='<div class="muted">‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§Ö‡§™‡§°‡•á‡§ü ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä‡§§.</div>';return}
      list.forEach(j=>{
        const d = document.createElement('div'); d.className='card';
        d.innerHTML=`<h3>${escapeHtml(j.title)}</h3>
                    <p class="small">${escapeHtml(j.desc)}</p>
                    <p><strong>‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§§‡§æ‡§∞‡•Ä‡§ñ:</strong> ${escapeHtml(j.lastDate)}</p>`;
        container.appendChild(d);
      })
    }

    // PDFs
    async function loadPDFs(){
      const local = JSON.parse(localStorage.getItem('ms_pdfs') || 'null');
      const pdfs = local || await fetchJSON('pdfs.json');
      renderPDFs(pdfs);
    }
    function renderPDFs(list){
      const container = document.getElementById('pdf-list'); container.innerHTML='';
      if(!list || !list.length){container.innerHTML='<div class="muted">‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä PDF ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä.</div>';return}
      list.forEach(p=>{
        const d=document.createElement('div'); d.className='card';
        let link = p.link || '#';
        d.innerHTML=`<h3>${escapeHtml(p.title)}</h3>
                    <p class="small">${escapeHtml(p.desc)}</p>
                    <a class="pdf-link" href="${link}" target="_blank">Download</a>`;
        container.appendChild(d);
      })
    }

    // Search
    document.getElementById('search').addEventListener('input', e=>{
      const q = e.target.value.trim().toLowerCase();
      const jobs = JSON.parse(localStorage.getItem('ms_jobs') || 'null') || null;
      (async()=>{
        const list = jobs || await fetchJSON('jobs.json');
        const filtered = list.filter(x=> (x.title+x.desc).toLowerCase().includes(q));
        renderJobs(filtered);
      })();
    });

    // simple escape
    function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    // Auto-refresh (simulate news feed) every 20s
    setInterval(()=>{ loadJobs(); loadPDFs(); },20000);

    // initial load
    loadJobs(); loadPDFs();
  </script>
</body>
</html>
